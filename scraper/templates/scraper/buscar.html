{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">ğŸ” Scraper de Wikipedia</h2>

  <form method="get" class="mb-4">
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Buscar en Wikipedia..." value="{{ query }}" required>
      <button class="btn btn-primary" type="submit">Buscar</button>
    </div>
  </form>

  {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
  {% endif %}

  {% for r in resultados %}
    <div class="card mb-3">
      <div class="card-body">
        <h5 class="card-title">{{ r.titulo }}</h5>
        <p class="card-text">
          {% for s in r.snippets %}
            {{ s }}<br>
          {% endfor %}
        </p>
        <a href="{{ r.url }}" target="_blank" class="btn btn-sm btn-secondary">Ver en Wikipedia</a>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
